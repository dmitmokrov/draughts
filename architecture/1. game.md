## Детализация компонентов шашечной доски

### Основные компоненты

#### 1. Board (Доска)

- **Board.vue** - основной компонент доски 8x8
  - Свойства:
    - `initialState` - начальное состояние доски
    - `isInteractive` - возможность взаимодействия с доской
    - `highlightedSquares` - подсвеченные клетки
    - `possibleMoves` - возможные ходы
  - События:
    - `piece-move` - при перемещении фигуры
    - `square-click` - при клике на клетку

#### 2. Square (Клетка)

- **Square.vue** - компонент отдельной клетки доски
  - Свойства:
    - `row`, `col` - координаты клетки
    - `isDark` - темная или светлая клетка
    - `piece` - фигура, находящаяся на клетке
    - `isHighlighted` - подсвечена ли клетка
    - `isSelected` - выбрана ли клетка
  - События:
    - `click` - при клике на клетку

#### 3. Piece (Фигура)

- **Piece.vue** - компонент шашки
  - Свойства:
    - `color` - цвет фигуры (черный/белый)
    - `isKing` - является ли дамкой
    - `isSelectable` - можно ли выбрать фигуру
  - События:
    - `piece-selected` - при выборе фигуры
    - `piece-moved` - при перемещении фигуры

### Логика игры

#### 1. MoveValidator (Валидатор ходов)

- **MoveValidator.ts** - класс для проверки правильности ходов
  - Методы:
    - `isValidMove(boardState, from, to)` - проверка валидности хода
    - `getPossibleMoves(boardState, position)` - получение возможных ходов
    - `isCaptureAvailable(boardState, color)` - проверка наличия обязательного взятия
    - `processMove(boardState, from, to)` - обработка хода с учетом всех правил

#### 2. GameState (Состояние игры)

- **GameState.ts** - класс для управления состоянием игры
  - Свойства:
    - `board` - текущее состояние доски
    - `currentPlayer` - текущий игрок
    - `moveHistory` - история ходов
    - `gameStatus` - статус игры (активна, завершена)
  - Методы:
    - `makeMove(from, to)` - выполнение хода
    - `undoMove()` - отмена последнего хода
    - `resetGame()` - сброс игры

### Специфика русских шашек

#### Правила, которые необходимо реализовать:

1. Шашки ходят только по диагонали на одну клетку вперед
2. Дамки могут ходить на любое количество клеток по диагонали в любом направлении
3. **Простые шашки также могут бить назад** (в отличие от международных шашек)
4. Обязательное взятие (если возможно взятие, игрок обязан его выполнить)
5. Множественное взятие (возможность продолжать взятие одной фигурой)
6. **Во время взятия нельзя перепрыгивать через одну и ту же шашку дважды**
7. **Правило "турецкого удара" - шашки снимаются с доски после окончания взятия (не во время)**
8. Превращение в дамку при достижении последней линии
9. **При наличии нескольких взятий игрок сам выбирает любое из них** (в отличие от международных шашек, где обязательно максимальное количество взятий)

### Архитектурные решения

#### Состояние доски

- Двумерный массив 8x8, где каждая ячейка содержит информацию о фигуре:
  - `null` - пустая клетка
  - Объект с полями `{ color: 'white'|'black', isKing: boolean }` для фигур

#### Управление взаимодействием

- Использование событийной системы Vue для коммуникации между компонентами
- Централизованное управление состоянием через Pinia store
- Разделение ответственности между компонентами для лучшей тестируемости

#### Анимация и UX

- Плавные переходы при перемещении фигур
- Визуальная обратная связь при взаимодействии
- Подсветка возможных ходов
- Индикация текущего игрока
